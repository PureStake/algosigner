<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />

    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap"
      rel="stylesheet"
    />

    <title>AlgoSigner</title>
  </head>
  <body>
    <div id="root"></div>
    <script>
      /** Temporary workaround for secondary monitors on MacOS where redraws don't happen
       *  @See https://bugs.chromium.org/p/chromium/issues/detail?id=971701
       */
      chrome.runtime.getPlatformInfo(function (info) {
        if (
          info.os === 'mac' &&
          (window.screenLeft < 0 ||
            window.screenTop < 0 ||
            window.screenLeft > window.screen.width ||
            window.screenTop > window.screen.height)
        ) {
          const fontFaceSheet = new CSSStyleSheet();
          fontFaceSheet.insertRule(`
            @keyframes redraw {
              0% {
                opacity: 1;
              }
              100% {
                opacity: .999;
              }
            }
          `);
          fontFaceSheet.insertRule(`
            html {
              animation: redraw 1s linear infinite;
            }
          `);
          document.adoptedStyleSheets = [
            ...document.adoptedStyleSheets,
            fontFaceSheet,
          ];
        }
      });
    </script>
  </body>
</html>
